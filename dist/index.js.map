{"version":3,"sources":["../src/index.js"],"names":["program","version","option","parse","process","argv","OPTS","port","spa","APP_DIR","cwd","path","join","app","use","listen","console","log","error"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEAA,oBACEC,OADF,CACU,OADV,EAEEC,MAFF,CAES,gBAFT,EAE2B,aAF3B,EAGEA,MAHF,CAGS,WAHT,EAGsB,kCAHtB;;AAKAF,oBAAQG,KAAR,CAAcC,QAAQC,IAAtB;;AAEA,MAAMC,OAAO;AACZC,OAAMP,oBAAQO,IAAR,IAAgB,IADV;AAEZC,MAAKR,oBAAQQ,GAAR,IAAe;AAFR,CAAb;;AAKA,MAAMC,UAAUL,QAAQM,GAAR,EAAhB;;AAEA,IAAG,oBAAWC,eAAKC,IAAL,CAAUH,OAAV,EAAmB,YAAnB,CAAX,CAAH,EAAiD;AAChD,OAAMI,MAAM,wBAAZ;;AAEAA,KAAIC,GAAJ,CAAQ,sBAAO,MAAP,CAAR;AACAD,KAAIC,GAAJ,CAAQ,GAAR,EAAa,qBAAML,OAAN,EAAeH,IAAf,CAAb;;AAEAO,KAAIE,MAAJ,CAAWT,KAAKC,IAAhB,EAAsB,MAAM;AAC3BS,UAAQC,GAAR,CAAa,sBAAqBX,KAAKC,IAAK,EAA5C;AACA,EAFD;AAGA,CATD,MAUI;AACHS,SAAQE,KAAR,CAAc,2BAAd;AACA","file":"index.js","sourcesContent":["\n\nimport express from 'express'\nimport morgan from 'morgan'\nimport path from 'path'\nimport serve from './services/serve'\n\nimport program from 'commander'\nimport { existsSync } from 'fs'\n\nprogram\n\t.version('0.1.0')\n\t.option('-p, --port <n>', 'port to use')\n\t.option('-s, --spa', 'redirect all route to index.html')\n\nprogram.parse(process.argv)\n\nconst OPTS = {\n\tport: program.port || 8080,\n\tspa: program.spa || false\n}\n\nconst APP_DIR = process.cwd()\n\nif(existsSync(path.join(APP_DIR, 'index.html'))) {\n\tconst app = express()\n\n\tapp.use(morgan('tiny'))\n\tapp.use('*', serve(APP_DIR, OPTS))\n\n\tapp.listen(OPTS.port, () => {\n\t\tconsole.log(`Sera is up on PORT ${OPTS.port}`)\n\t})\n}\nelse{\n\tconsole.error('file index.html not found')\n}"]}